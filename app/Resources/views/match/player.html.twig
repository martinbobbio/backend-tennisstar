{% extends 'base.html.twig' %}

{% block title %}{{ parent() }}Ingresar jugadores al partido{% endblock %}

{% block page_title_right %}<a href="{{ path('match_index') }}" class="btn btn-default btn">Todos los Partidos</a>{% endblock %}

{% block page_title %}<h1 class="text-default">Formulario</h1>{% endblock %}

{% block page_content %}

    <style>
        .left_col{
            height:1500px;
        }
    </style>

    {% if message is defined  %}
        <div class="alert alert-danger">
            {{message}}
        </div>
    {% endif %}

    

    <br>

    <div class="container well" style="padding:25px; background:white">

    <div class="col-xs-offset-2">
        <h1 class="text-primary">Van a jugar: </h1>
    </div><br>

    {{ form_start(edit_form) }}
        {{ form_widget(edit_form) }}
        <div class="col-xs-offset-2">
            <input type="submit" value="Guardar" class="btn btn-success" />
        </div>
    {{ form_end(edit_form) }}

    </div>
    
    {% if players is defined %}
        {% if players[0] is defined %}
            <script>
                var x=document.getElementById("backendbundle_score_user");
                for (var i = 0; i < x.options.length; i++) {
                    if(x.options[i].value == {{players[0].user.id}}){
                        x.options[i].selected = true;
                    }
                }
            </script>
            {% if players[0].user2.id is defined %}
                <script>
                var x=document.getElementById("backendbundle_score_user");
                for (var i = 0; i < x.options.length; i++) {
                    if(x.options[i].value == {{players[0].user2.id}}){
                        x.options[i].selected = true;
                    }
                }
                </script>
            {% endif %}
        {% endif %}
    {% endif %}
    {% if players is defined %}
        {% if players[1] is defined %}
            <script>
                var x=document.getElementById("backendbundle_score_user2");
                for (var i = 0; i < x.options.length; i++) {
                    if(x.options[i].value == {{players[1].user.id}}){
                        x.options[i].selected = true;
                    }
                }
            </script>
            <script>
                var x=document.getElementById("backendbundle_score_user2");
                if(x == null){
                    x = document.getElementById("backendbundle_score_user");
                    for (var i = 0; i < x.options.length; i++) {
                        if(x.options[i].value == {{players[1].user.id}}){
                            x.options[i].selected = true;
                        }
                    }
                }
            </script>
            {% if players[1].user2.id is defined %}
                <script>
                var x=document.getElementById("backendbundle_score_user2");
                for (var i = 0; i < x.options.length; i++) {
                    if(x.options[i].value == {{players[1].user2.id}}){
                        x.options[i].selected = true;
                    }
                }
                </script>
            {% endif %}
        {% endif %}
    {% endif %}

{% endblock %}